
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../TDP4VE/">
      
      
        <link rel="next" href="../../LNX/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>DB2 - Marcinkowe mądrości</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#konfiguracja-db2-jako-klienta-ibm-storage-protect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Marcinkowe mądrości" class="md-header__button md-logo" aria-label="Marcinkowe mądrości" data-md-component="logo">
      
  <img src="../../assets/ibm-eye-bee-m-black_on_trans_vertical.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Marcinkowe mądrości
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DB2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Marcinkowe mądrości" class="md-nav__button md-logo" aria-label="Marcinkowe mądrości" data-md-component="logo">
      
  <img src="../../assets/ibm-eye-bee-m-black_on_trans_vertical.svg" alt="logo">

    </a>
    Marcinkowe mądrości
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ansible/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10.617 11.473 4.686 3.695-3.102-7.662zM12 0C5.371 0 0 5.371 0 12s5.371 12 12 12 12-5.371 12-12S18.629 0 12 0m5.797 17.305a.85.85 0 0 1-.875.83c-.236 0-.416-.09-.664-.293l-6.19-5-2.079 5.203H6.191L11.438 5.44a.79.79 0 0 1 .764-.506.76.76 0 0 1 .742.506l4.774 11.494c.045.111.08.234.08.348z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Ansible
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ansible
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ansible/POWER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Power HMC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../db2/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    DB2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    DB2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db2/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instalacja
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db2/db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bazy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db2/back_n_rest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup & Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db2/tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tips & tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.6 10.59 8.38 4.8l1.69 1.7c-.24.85.15 1.78.93 2.23v5.54c-.6.34-1 .99-1 1.73a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-.74-.4-1.39-1-1.73V9.41l2.07 2.09c-.07.15-.07.32-.07.5a2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.18 0-.35 0-.5.07L13.93 7.5a1.98 1.98 0 0 0-1.15-2.34c-.43-.16-.88-.2-1.28-.09L9.8 3.38l.79-.78c.78-.79 2.04-.79 2.82 0l7.99 7.99c.79.78.79 2.04 0 2.82l-7.99 7.99c-.78.79-2.04.79-2.82 0L2.6 13.41c-.79-.78-.79-2.04 0-2.82"/></svg>
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GPFS/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24v368c0 30.9 25.1 56 56 56h184v-48H56c-4.4 0-8-3.6-8-8V160h192v-48H48zm288 200h192c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48h-82.7c-8.5 0-16.6-3.4-22.6-9.4l-8.6-8.6c-9-9-21.2-14.1-33.9-14.1L336 0c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48m0 288h192c26.5 0 48-21.5 48-48v-96c0-26.5-21.5-48-48-48h-82.7c-8.5 0-16.6-3.4-22.6-9.4l-8.6-8.6c-9-9-21.2-14.1-33.9-14.1l-44.2.1c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48"/></svg>
  
  <span class="md-ellipsis">
    
  
    GPFS
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10a2 2 0 0 1 2 2c0 1.11-.89 2-2 2a2 2 0 1 1 0-4M5 3h14a2 2 0 0 1 2 2v12h-4.1a6.96 6.96 0 0 0 2.1-5c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7h9c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2"/></svg>
  
  <span class="md-ellipsis">
    
  
    ISP
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    ISP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SQL/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.3 17.89c1.32-2.1.7-4.89-1.41-6.21a4.52 4.52 0 0 0-6.21 1.41C10.36 15.2 11 18 13.09 19.3c1.47.92 3.33.92 4.8 0L21 22.39 22.39 21zm-2-.62c-.98.98-2.56.97-3.54 0-.97-.98-.97-2.56.01-3.54.97-.97 2.55-.97 3.53 0 .96.99.95 2.57-.03 3.54zM19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h5.81a6.3 6.3 0 0 1-1.31-2H5v-4h4.18c.16-.71.43-1.39.82-2H5V8h6v2.81a6.3 6.3 0 0 1 2-1.31V8h6v2a6.499 6.499 0 0 1 2 2V6a2 2 0 0 0-2-2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Qury SQLowe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Setup serwera
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Setup serwera
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_os/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_instance.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instancja
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_tapes.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Taśmy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_maint.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Maintenance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_dc.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kontenery (dir)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_cc.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kontenery (cloud)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ISL/setup_STA.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LANFree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 7 5 5h-3v4h-4v-4H7zm9 9.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.99.99 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.32.17.53.5.53.88zM12 4.15 5 8.09v7.82l7 3.94 7-3.94V8.09z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" checked>
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Klienci
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Klienci
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Klient BA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TDP4VE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TDP4VE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    DB2
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    DB2
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#serwer-isp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serwer ISP
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serwer ISP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domena-policy-set-managment-classa-i-copy-grupa" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Domena, policy set, managment classa i copy grupa
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#klient" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Klient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#klient-dla-bazy" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient dla bazy
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#klient-dla-os-i-harmonogramow" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient dla OS i harmonogramów
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serwer-db2" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serwer DB2
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serwer DB2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacja-klienta-ba" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Instalacja klienta BA
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracja-klienta-ba" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Konfiguracja klienta BA
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracja-api-tsm-w-db2" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Konfiguracja API TSM w DB2
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wspolny-dsmsys" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Wspólny <code>dsm.sys</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indywidialny-dsm-db2opt" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Indywidialny <code>dsm-db2.opt</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zmienne-srodowiskowe-storage-protect-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Zmienne środowiskowe Storage Protect API
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Zmienne środowiskowe Storage Protect API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weryfikacja-srodowiska" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Weryfikacja środowiska
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logarchmeth1" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          LOGARCHMETH1
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poaczenie-db2-i-storage-protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Połączenie DB2 i Storage Protect
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-do-storage-protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Backup do Storage Protect
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backup do Storage Protect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-offline-bazy-pilsisko" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Backup offline bazy <code>pilsisko</code>
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#co-dalej" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Co dalej?
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../LNX/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M220.9 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7M199 125c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4m221 278.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7M223.8 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8m-40.7-11.5c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1m-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3q-2.1-7.35 4.2-12.3m3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9m-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2m257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6M173.4 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5"/></svg>
  
  <span class="md-ellipsis">
    
  
    LNX
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    LNX
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/MPIO_and_SAN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MPIO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/lin_tape/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    lin_tape
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/lsvdisk2mpio_friendly_names/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multipath - User friendly names
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sieć
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sieć
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/bond/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bonding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/vlan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VLAN
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LNX/x11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    X11
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../mkdocs/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.029 18.772.777 1.166-5.417 2.709L0 16.451V4.063l5.417-2.709 5.298 7.948 7.867-5.24L24 1.354V16.84l-5.417 2.709zm2.023-13.827v13.253l3.949-1.975V2.97zM5.076 2.642 1.458 4.45 12.73 21.358l3.618-1.809z"/></svg>
  
  <span class="md-ellipsis">
    
  
    mkdocs
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    mkdocs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/icons/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M174.9 272c10.7 0 20.7 5.3 26.6 14.2l11.8 17.8H240c26.5 0 48 21.5 48 48v112c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V352c0-26.5 21.5-48 48-48h26.7l11.8-17.8c5.9-8.9 15.9-14.2 26.6-14.2h61.7zm278.6-12c5.6-4.9 13.9-5.3 19.9-.9s8.3 12.4 5.3 19.3L440.3 368H496c6.7 0 12.6 4.1 15 10.4s.6 13.3-4.4 17.7l-128 112c-5.6 4.9-13.9 5.3-19.9.9s-8.3-12.4-5.3-19.3l38.5-89.7h-55.8c-6.7 0-12.6-4.1-15-10.4s-.6-13.3 4.4-17.7l128-112zM144 360a48 48 0 1 0 0 96 48 48 0 1 0 0-96M483.8.4c6.5-1.1 13.1.4 18.5 4.4 6.1 4.5 9.7 11.7 9.7 19.2v152l-.3 4.9c-3.3 24.2-30.5 43.1-63.7 43.1-35.3 0-64-21.5-64-48s28.7-48 64-48c5.5 0 10.9.6 16 1.6V80.3l-112 33.6v110.2l-.3 4.9c-3.3 24.2-30.5 43.1-63.7 43.1-35.3 0-64-21.5-64-48s28.7-48 64-48c5.5 0 10.9.6 16 1.6V72c0-10.6 7-20 17.1-23l160-48zM188.9 0C226 0 256 30 256 67.1v6.1c0 56.1-75.2 112.1-110.3 135.3-10.8 7.1-24.6 7.1-35.4 0C75.2 185.4 0 129.3 0 73.2v-6.1C0 30 30 0 67.1 0c21.1 0 40.9 9.9 53.6 26.8l7.3 9.8 7.3-9.8C148 9.9 167.8 0 188.9 0"/></svg>
  
  <span class="md-ellipsis">
    
  
    Ikony
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/img/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 22A10 10 0 0 1 2 12 10 10 0 0 1 12 2c5.5 0 10 4 10 9a6 6 0 0 1-6 6h-1.8c-.3 0-.5.2-.5.5 0 .1.1.2.1.3.4.5.6 1.1.6 1.7.1 1.4-1 2.5-2.4 2.5m0-18a8 8 0 0 0-8 8 8 8 0 0 0 8 8c.3 0 .5-.2.5-.5 0-.2-.1-.3-.1-.4-.4-.5-.6-1-.6-1.6 0-1.4 1.1-2.5 2.5-2.5H16a4 4 0 0 0 4-4c0-3.9-3.6-7-8-7m-5.5 6c.8 0 1.5.7 1.5 1.5S7.3 13 6.5 13 5 12.3 5 11.5 5.7 10 6.5 10m3-4c.8 0 1.5.7 1.5 1.5S10.3 9 9.5 9 8 8.3 8 7.5 8.7 6 9.5 6m5 0c.8 0 1.5.7 1.5 1.5S15.3 9 14.5 9 13 8.3 13 7.5 13.7 6 14.5 6m3 4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Obrazki
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Power/" class="md-nav__link ">
              
  
  
    <svg version="1.1" id="Ibm-Power-Vs--Streamline-Carbon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="0 0 16 16" xml:space="preserve" enable-background="new 0 0 32 32" height="16" width="16">
  <desc>
    Ibm Power Vs Streamline Icon: https://streamlinehq.com
  </desc>
  <path d="M8 12.5c-1 0 -2 -0.35 -2.8 -1l0.65 -0.8c0.65 0.5 1.4 0.75 2.2 0.75 1.95 0 3.5 -1.55 3.5 -3.5 0 -0.15 0 -0.35 -0.05 -0.5l1 -0.15 0 0.7c0 2.5 -2 4.5 -4.5 4.5z" fill="currentColor" stroke-width="0.5"></path>
  <path d="M3.55 8.65C3.5 8.45 3.5 8.2 3.5 8c0 -2.5 2 -4.5 4.5 -4.5 1 0 2 0.35 2.8 1l-0.65 0.8C9.55 4.75 8.8 4.5 8 4.5c-1.95 0 -3.5 1.55 -3.5 3.5 0 0.15 0 0.35 0.05 0.5l-1 0.15z" fill="currentColor" stroke-width="0.5"></path>
  <path d="M11 13.5a0.5 0.5 0 1 0 1 0 0.5 0.5 0 1 0 -1 0" fill="currentColor" stroke-width="0.5"></path>
  <path d="M4 10a0.5 0.5 0 1 0 1 0 0.5 0.5 0 1 0 -1 0" fill="currentColor" stroke-width="0.5"></path>
  <path d="M11 6a0.5 0.5 0 1 0 1 0 0.5 0.5 0 1 0 -1 0" fill="currentColor" stroke-width="0.5"></path>
  <path d="M7 8a1 1 0 1 0 2 0 1 1 0 1 0 -2 0" fill="currentColor" stroke-width="0.5"></path>
  <path d="M4 2.5a0.5 0.5 0 1 0 1 0 0.5 0.5 0 1 0 -1 0" fill="currentColor" stroke-width="0.5"></path>
  <path d="M8 15C4.15 15 1 11.85 1 8c0 -1.85 0.75 -3.65 2.05 -4.95l0.7 0.7C2.6 4.9 2 6.4 2 8c0 3.3 2.7 6 6 6 0.7 0 1.4 -0.1 2.05 -0.35l0.35 0.95c-0.75 0.25 -1.6 0.4 -2.4 0.4z" fill="currentColor" stroke-width="0.5"></path>
  <path d="m12.95 12.95 -0.7 -0.7c1.15 -1.15 1.75 -2.65 1.75 -4.25 0 -3.3 -2.7 -6 -6 -6 -0.7 0 -1.4 0.1 -2.05 0.35l-0.35 -0.95c0.75 -0.25 1.6 -0.4 2.4 -0.4 3.85 0 7 3.15 7 7 0 1.85 -0.75 3.65 -2.05 4.95z" fill="currentColor" stroke-width="0.5"></path>
  <path id="_x3C_Transparent_Rectangle_x3E__589_" d="M0 0h16v16H0Z" fill="none" stroke-width="0.5"></path>
</svg>
  
  <span class="md-ellipsis">
    
  
    Power
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Power
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Power/HMC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HMC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Power/VIOS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VIOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../UNX/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Unix
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unix
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../virt/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.003.064C5.376.064 0 5.407 0 12s5.376 11.936 12.003 11.936c2.169 0 4.2-.57 5.955-1.57l.624 1.57h4.841l-1.893-4.679A11.85 11.85 0 0 0 24 12C24 5.407 18.63.064 12.003.064M8.818 2.03c.398.339.324.198.86.134.61-.397.893.942 1.147.195.748.097 1.542.34 2.25.584a3.45 3.45 0 0 1 1.859 1.128l-.014.007.35.463c.045.08.082.164.12.248.142 1.205 1.48 1.19 2.377 1.625.767.272 1.69.686 1.785 1.611-.193-.042-.941-.921-1.53-1.007a4 4 0 0 1-1.094-.255L14.86 6.38v-.007a3 3 0 0 1-.309-.053v.013l-2.927-.362c.048.033.1.077.148.12l3 .585v-.007l.209.053.839.188c.166.016.334.043.47.067.856.236 1.868.194 2.571.792-.184.352-1.21.153-1.719.108-.062-.012-.131-.023-.194-.034l-.034-.007c-.696-.113-1.411-.12-2.081.088h-.007a3.2 3.2 0 0 0-.671.302c-.968.563-2.164.767-2.967 1.577-.787.847-.739 2.012-.604 3.095h.033v.275q.02.143.04.282c.41 2.19 1.5 4.2 1.84 6.412.065.843.203 1.932.309 2.618-.306-.091-.475-1.462-.544-1.007a38 38 0 0 0-3.565-5.25c-.853-1.004-1.697-2.06-2.712-2.894-.685-.528-.468-1.55-.537-2.302-.23-.926-.094-1.848.06-2.773.313-.963.418-1.968.846-2.893.653-.581.669-1.63 1.303-2.135.094.058.157.085.2.1l.068.008h.007c.09-.095-.888-1.116.02-.712.035-.537.854-.128.866-.597m3.847 2.182c-.323.009-.574.13-.645.335-.114.33.273.755.866.96.594.205 1.168.109 1.282-.221s-.272-.762-.866-.967a1.8 1.8 0 0 0-.637-.107"/></svg>
  
  <span class="md-ellipsis">
    
  
    Virt
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11" id="__nav_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Virt
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../virt/libvirt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Libvirt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../virt/qemu-img/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QCOW2 i inne dyski
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../WinDOS/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.67 5.3v.61l-.71.3V5.6zm0 5.94v.62l-.71.29v-.59zm0 6.03v.62l-.71.29v-.59zM2.6 7.29v.55l-.57.26v-.54zm0 1.99v.54l-.57.26v-.54zm0 4.03v.53l-.57.26v-.54zm0 2.02v.54l-.57.26v-.53zm1.9-9.69v.72l-1 .37V6zm0 6.02v.71l-1 .37v-.71zm0 6.04v.71l-1 .4v-.71zm-.07-9.98v.66l-.79.3V8zm0 2.01v.64l-.78.3V10zm0 4.01v.64l-.78.31v-.66zm0 2.02v.65l-.78.31v-.66zm1.88-9.67v.85l-1.26.49v-.84zm0 6.02v.85l-1.26.49v-.84zm0 5.97v.85l-1.26.5v-.85zm-.06-9.9v.76l-1.06.4v-.73zm0 2v.75l-1.06.42v-.75zm0 4.01v.75l-1.06.43v-.75zm0 1.95v.76l-1.06.42v-.75zm2.04-10.1v1.12l-1.57.62V6.67zm0 6.02v1.13l-1.57.61v-1.12zm0 5.97v1.12l-1.57.62v-1.11zm-.09-9.9v1.03l-1.31.53V8.66zm0 2v1.02l-1.31.53v-1.03zm0 4.02v1.03l-1.31.52v-1.03zm0 1.95v1.02l-1.31.52v-1.01zm2.14-10.25v1.47L8.61 8V6.56zm0 6.02v1.46l-1.73.7v-1.47zm0 5.97v1.46l-1.73.7v-1.46zm-.08-9.79v1.23l-1.48.59V8.64zm0 1.92v1.23l-1.48.58v-1.22zm0 4.09v1.25l-1.48.57v-1.23zm0 1.94v1.25l-1.48.59V16.6zm2.19-10.88v2l-1.86.77V6c.64-.35 1.26-.65 1.86-.88m0 2.21v1.73l-1.86.78V8.1zm0 1.95v1.76l-1.86.78v-1.76zm0 1.97V13l-1.86.77V12zm0 1.96V15l-1.86.78V14zm0 2v1.75l-1.86.8V16zm0 1.96v1.87c-.73.28-1.35.55-1.86.8v-1.88zm9.59-11.99v14.05c-1.19-.79-2.67-1.18-4.45-1.18-1.47 0-3.12.3-4.94.91v-1.9c.97-.37 2.03-.64 3.19-.8v-4.57c-.98.12-2.04.46-3.19 1.02V11.4c.99-.46 2.06-.77 3.19-.94V6c-1.02.18-2.08.53-3.19 1V5.03C14.27 4.34 15.86 4 17.41 4c1.68 0 3.22.39 4.63 1.18m-1.89 1.23c-.76-.41-1.65-.59-2.73-.59-.13 0-.25.01-.37.02v4.54l.41-.01c.91 0 1.81.13 2.69.43zm0 5.69c-.81-.36-1.72-.54-2.71-.54-.13 0-.26.01-.39.02v4.58h.41c.99 0 1.89.12 2.69.37z"/></svg>
  
  <span class="md-ellipsis">
    
  
    WinDOS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12" id="__nav_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    WinDOS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WinDOS/PS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <span class="md-typeset">
      Przydatne Powershelle
    </span>
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#serwer-isp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serwer ISP
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serwer ISP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domena-policy-set-managment-classa-i-copy-grupa" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Domena, policy set, managment classa i copy grupa
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#klient" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Klient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#klient-dla-bazy" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient dla bazy
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#klient-dla-os-i-harmonogramow" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Klient dla OS i harmonogramów
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serwer-db2" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serwer DB2
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serwer DB2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacja-klienta-ba" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Instalacja klienta BA
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracja-klienta-ba" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Konfiguracja klienta BA
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfiguracja-api-tsm-w-db2" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Konfiguracja API TSM w DB2
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wspolny-dsmsys" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Wspólny <code>dsm.sys</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indywidialny-dsm-db2opt" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Indywidialny <code>dsm-db2.opt</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zmienne-srodowiskowe-storage-protect-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Zmienne środowiskowe Storage Protect API
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Zmienne środowiskowe Storage Protect API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weryfikacja-srodowiska" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Weryfikacja środowiska
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logarchmeth1" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          LOGARCHMETH1
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poaczenie-db2-i-storage-protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Połączenie DB2 i Storage Protect
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-do-storage-protect" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Backup do Storage Protect
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backup do Storage Protect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-offline-bazy-pilsisko" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Backup offline bazy <code>pilsisko</code>
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#co-dalej" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Co dalej?
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="konfiguracja-db2-jako-klienta-ibm-storage-protect">Konfiguracja DB2 jako klienta IBM Storage Protect</h1>
<p>Wsparcie dla DB2 jest na poziomie API klienta BA - wystarczy mieć to skonfigurowane i gitara. Ale diabeł oczywiście tkwi w sczegółach, zatem... szczegóły poniżej.
<a href="https://www.ibm.com/docs/pl/db2/11.5.x?topic=tsm-configuring-client">Oficjalna dokumentacja</a> też jest bardzo fajna.</p>
<h2 id="serwer-isp">Serwer ISP</h2>
<p>Serwer nie zajmuje się retencją backupów w imieniu DB2. Za to jest odpowiedzialna sama baza. Daltego wystarczy założyć prostą politykę:</p>
<ul>
<li><code>VERE</code> = 1 </li>
<li><code>VERD</code> = 0</li>
<li><code>RETE</code> = 0</li>
<li><code>RETO</code> = 0</li>
</ul>
<div class="admonition danger">
<p class="admonition-title">Ważne</p>
<p>O ile TSM za retencję backupu DB2 nie odpowiada, o tyle za expirowanie archiwów już tak. A baza używająć<code>LOGARCHMETH1</code> , zwala logi do TSMa właśnie jako obiekty archiwalne.  Dlatego warto uzodnić czas retencji logów z DBA bazy.</p>
</div>
<h3 id="domena-policy-set-managment-classa-i-copy-grupa">Domena, policy set, managment classa i copy grupa</h3>
<p>Zakładam, że jest już pula <code>dc01</code>, która u mnie zwykle jest kontenerowa. Oczywioście można tu użyć dowolnej puli, jak komu pasuje. Przy LANFree to będzie pewnie taśma, albo <code>FILE</code> na jakimś GPFSie.</p>
<div class="language-text highlight"><span class="filename">Polityki dla DB2</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>def dom db2 descr=&quot;Klienci db2&quot;
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>def pol db2 prd desc=&quot;Polityka dla DB2&quot;
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>def mgmt db2 prd dbb migdest=dc01
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>def copyg db2 prd dbb t=b vere=1 verd=0 rete=0 reto=0 dest=dc01
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>def copyg db2 prd dbb t=a retver=30 dest=dc01
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>def mgmt db2 prd logs migdest=dc01 descr=&quot;DB2 archlogs&quot;
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>def copyg db2 prd logs t=a retver=30 dest=dc01
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>assign defmgmt db2 prd dbb
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>val pol db2 prd
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>act pol db2 prd
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Uwaga:</p>
<p>W powyższej liście jest "zbędna rzecz": <code>migdest=dc01</code>. To dla porządku, bo nie lubię mieć ostrzeżeń podczas validacji policysetu. </p>
</div>
<div class="admonition danger">
<p class="admonition-title">Ważne:</p>
<p class="annotate">Jeśli planujesz archiwizację logów (1) potrzebujesz conajmniej copygrupy archiwalnej w domyślnej managment class. A pewnie lepszym pomysłem jest zrobienie dedykowanej managment classy pod logi. </p>
<ol>
<li>prawdopodobnie planujesz, bo bez tego życie jest smutne <img alt="😢" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f622.svg" title=":cry:" />.</li>
</ol>
<p>W powyższym przykładzie jest zdefiniowana klasa <code>LOGS</code> z copygrupą archiwalną, której planuję użyć do archiwizacji logów. </p>
<div class="admonition tip">
<p class="admonition-title">Ciekawostka</p>
<p>Ponieważ copygrupy backupowa i archiwalna mogą mieć innne <code>destination</code> możliwe jest rozdzielenie backupu od logów. Można np skierować backupy na <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10a2 2 0 0 1 2 2c0 1.11-.89 2-2 2a2 2 0 1 1 0-4M5 3h14a2 2 0 0 1 2 2v12h-4.1a6.96 6.96 0 0 0 2.1-5c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7h9c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2"/></svg></span> a logi na deduplikowane <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m6 2a6 6 0 0 0-6 6c0 3.31 2.69 6 6.1 6l-.88-2.23a1.01 1.01 0 0 1 .37-1.37l.86-.5a1.01 1.01 0 0 1 1.37.37l1.92 2.42A5.98 5.98 0 0 0 18 10a6 6 0 0 0-6-6m0 5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-5 9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m5.09-4.73 2.49 6.31 2.59-1.5-4.22-5.31z"/></svg></span>.</p>
</div>
</div>
<h3 id="klient">Klient</h3>
<p>Klientów będzie tak naprawdę dwóch: dla bazy (API) i dla OSa (BA).</p>
<p>Założenia:</p>
<ul>
<li>Hostname i nodename klienta db2: <code>dibitu</code></li>
<li>Nodename dla klienta API: <code>dibitu_db2</code></li>
<li>klientów API rejestruję w odpowiednich dla nich domenach.</li>
<li>Klientów OS rejestruję w domenie np <code>OS</code> albo jak w poniżej w <code>LNX</code> jeśli akurat lubię mieć OSy porozdzielane. </li>
<li>Adres mojego serwera Protect: <code>sp-1.iic</code></li>
</ul>
<h4 id="klient-dla-bazy">Klient dla bazy</h4>
<p>Klient dla bazy będzie służył wyłącznie do połączeń API wykonych przez silnik bazy danych.</p>
<div class="admonition note">
<p class="admonition-title">Uwaga:</p>
<p>Ważne jest, żeby klient miał prawo kasowania swoich backupów. W przeciwnym wypadku one nigdy nie wygasną! </p>
</div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>reg node dibitu_db2 tajne_hasło dom=DB2 backdel=yes sessionsec=trans
</span></code></pre></div>
<h4 id="klient-dla-os-i-harmonogramow">Klient dla OS i harmonogramów</h4>
<p>Na tym kliencie będzie robiony backup plików z tego hosta, oraz będzie on słuchał harmonogramów, które np będą wywoływać skrypty backupujące bazę. </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>reg node dibitu tajne_hasło dom=LNX sessionsec=trans
</span></code></pre></div>
<h2 id="serwer-db2">Serwer DB2</h2>
<p class="annotate">Na hoście DB2 potrzebny jest pałeny klientw <em>Backup Archive</em>. <a href="https://www3.software.ibm.com/storage/tivoli-storage-management/maintenance/client/v8r1/Linux/LinuxX86/BA/">Stąd</a> (1) można sciągnąć względnie świeżego. </p>
<ol>
<li>Z pewnych źródeł wiem, że niedługo będzie wersja 8.2 zarówno serwera jak i klienta więc traktuj ten link ze zrozumieniem <img alt="😉" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f609.svg" title=":wink:" />.</li>
</ol>
<h3 id="instalacja-klienta-ba">Instalacja klienta BA</h3>
<p>Z punktu widzenia DB2 potrzebna jest tylko paczka API, ale ze względu na możliwość uruchamiania hamrmonogramóœ jak i przeszukiwania bazy Protecta, ja zawze instalauję pełnego klienta.
Proces instalacji klietna ba jest opisany <a href="../ba/">tutaj</a>.</p>
<h3 id="konfiguracja-klienta-ba">Konfiguracja klienta BA</h3>
<p>Kluczowy jest plik <code>dsm.sys</code>, który musi zawierać dwoe stanze: jedną dla klienta BA a drugą do DB2. podstawowoą konfigurację klietna BA  opisuję <a href="../ba/">tutaj</a>, alt to jest ogólne. Teraz podstawię sobie zmienne pod moją przykładową konfigurację:</p>
<div class="admonition note inline end">
<p class="admonition-title">Uwaga</p>
<p>Stanza <code>SP-1-DB2</code> dla DB2 jest trochę inna:</p>
<ol>
<li>Ma inny <code>nodename</code> - to jest konto dla BAZY.</li>
<li>Ma zdefiniowany <code>passworddir</code>. Ważne żeby ten katalog był dostępny do zapisu dla właściciela instancji.</li>
<li>Ma inne ścieżki do logów backupowych <code>errorlogname</code> i <code>schedlogname</code>. Te katalogi też powinny być "pisalne" dla <code>db2inst1</code>. </li>
</ol>
</div>
<div class="language-text highlight"><span class="filename">Plik /opt/tivoli/tsm/client/ba/bin/dsm.sys</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>servername SP-1         * Alias dla klienta BA (OS)
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>        tcpserveraddress        sp-1.iic
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>        errorlogn               /var/log/tsm/dsmerror.log
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        errorlogret             10 d
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        schedlogn               /var/log/tsm/dsmsched.log
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        schedlogret             10 d
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        passwordaccess          generate
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        nodename                dibitu
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>        * inclexcl                /etc/inclexcl.txt
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>        resourceutilization     6
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        deduplication           yes
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>        dedupcachepath          /var/spdedup
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        ENABLEDEDUPCache        yes
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        virtualmount            /etc
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        managedservices         schedule webclient
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        httpport                1581
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>servername SP-1-DB2     * Alias dla klienta BA (OS)
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>        tcpserveraddress        sp-1.iic
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>        errorlogn               /pils/pilsisko/tsm/logs/dsmerror-db2.log
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>        errorlogret             10 d
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>        schedlogn               /pils/pilsisko/tsm/logs/dsmsched-db2.log
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>        schedlogret             10 d
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>        passwordaccess          generate
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>        passworddir             /pils/pilsisko/tsm/pwd
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>        nodename                dibitu_db2
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>        * inclexcl                /etc/inclexcl.txt
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>        resourceutilization     6
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>        deduplication           yes
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>        dedupcachepath          /var/spdedup-db2
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>        ENABLEDEDUPCache        yes
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>        virtualmount            /etc
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>        managedservices         schedule webclient
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>        httpport                1582
</span></code></pre></div>
<p>Plik <code>dsm.sys</code> ma dwie stanze. Ta o nazwie <code>SP-1-DB2</code> jest przeznaczona dla bazy DB2.
Plik <code>dsm.opt</code> wskazuje na domyślną stanze <code>dsm.sys</code>, także to od niego zależy która konfiguracja będzie użyta.</p>
<div class="language-text highlight"><span class="filename">Plik /opt/tivoli/tsm/client/ba/bin/dsm.opt</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>servername SP-1
</span></code></pre></div>
<p>Dla DB2 zostanie utworzony dodatkowy plik <code>opt</code>, który pozwoli mu skorzystać z drugiej stanzy. Na razie przetestuj połączenie klienta BA:</p>
<div class="language-shell highlight"><span class="filename">Pierwsze połączenie klienta dsmc</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>root@dibitu<span class="w"> </span>ba-8.1.27<span class="o">]</span><span class="c1"># dsmc</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>IBM<span class="w"> </span>Storage<span class="w"> </span>Protect
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Command<span class="w"> </span>Line<span class="w"> </span>Backup-Archive<span class="w"> </span>Client<span class="w"> </span>Interface
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span>Client<span class="w"> </span>Version<span class="w"> </span><span class="m">8</span>,<span class="w"> </span>Release<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>Level<span class="w"> </span><span class="m">27</span>.0<span class="w"> </span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span>Client<span class="w"> </span>date/time:<span class="w"> </span><span class="m">11</span>/23/2025<span class="w"> </span><span class="m">00</span>:57:46
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="o">(</span>c<span class="o">)</span><span class="w"> </span>Copyright<span class="w"> </span>IBM<span class="w"> </span>Corp.<span class="w"> </span><span class="m">1990</span>,<span class="w"> </span><span class="m">2025</span>.<span class="w"> </span>All<span class="w"> </span>Rights<span class="w"> </span>Reserved.<span class="w"> </span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>Node<span class="w"> </span>Name:<span class="w"> </span>DIBITU
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>ANS1051I<span class="w"> </span>Invalid<span class="w"> </span>user<span class="w"> </span>id<span class="w"> </span>or<span class="w"> </span>password
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>Please<span class="w"> </span>enter<span class="w"> </span>your<span class="w"> </span>user<span class="w"> </span>id<span class="w"> </span>&lt;DIBITU&gt;:<span class="w"> </span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>Please<span class="w"> </span>enter<span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>user<span class="w"> </span>id<span class="w"> </span><span class="s2">&quot;DIBITU&quot;</span>:<span class="w"> </span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>Session<span class="w"> </span>established<span class="w"> </span>with<span class="w"> </span>server<span class="w"> </span>SP1:<span class="w"> </span>Linux/ppc64le
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">  </span>Server<span class="w"> </span>Version<span class="w"> </span><span class="m">8</span>,<span class="w"> </span>Release<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>Level<span class="w"> </span><span class="m">27</span>.000
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">  </span>Server<span class="w"> </span>date/time:<span class="w"> </span><span class="m">11</span>/23/2025<span class="w"> </span><span class="m">00</span>:58:00<span class="w">  </span>Last<span class="w"> </span>access:<span class="w"> </span><span class="m">11</span>/22/2025<span class="w"> </span><span class="m">20</span>:49:19
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>Protect&gt;<span class="w"> </span>
</span></code></pre></div>
<h3 id="konfiguracja-api-tsm-w-db2">Konfiguracja API TSM w DB2</h3>
<p class="annotate">Odpowiednią stanzę w <code>dsm.sys</code> już mam. DB2 używa TIVSm-API, dlatego plików konfiguracyjnych domyślnie szuka w <code>/opt/tivoli/tsm/client/api/bin64</code> (1). O ile <code>dsm.sys</code> może i nawet lepiej, żeby był wspólny o tyle <code>dsm.opt</code> warto mieć swój. Odnośnie <code>dsm.opt</code> są dwie szkoły:</p>
<ol>
<li>Na AIXie to będzie <code>/usr/tivoli/tsm/client/api/bin64</code>.</li>
</ol>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Elegancka</label><label for="__tabbed_1_2">Prosta</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p class="annotate">Plik <code>dsm.opt</code> tworzy się w jakimś ładnym miejscu, np na współdzielnym filesystemie i podaje się go albo przez parametr <code>-optfile=/scieżka/do/dsm.opt</code> albo przez zmienną środowiskową DSMI_CONFIG wskazującą konkretny na plik <code>dsm.opt</code> (1). </p>
<ol>
<li><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" title=":exclamation:" /> Może mieć zupełnie inną nazwę <img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" title=":exclamation:" /></li>
</ol>
<p>Na przykład plik sobie leży we współdzielnym katalogu: <code>/pils/pilsisko/tsm/dsm-db2.opt</code> i wskazuje sobie na odpowiednią stanzę w <code>dsm.sys</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>SErvername SP-1-DB2
</span></code></pre></div>
<p>W dalszych przykładach posługuję się wersją "elegancką" <img alt="😄" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f604.svg" title=":smile:" />.</p>
</div>
<div class="tabbed-block">
<p>Tworzy się plik <code>/opt/tivoli/tsm/client/api/bin64/dsm.opt</code> wskazujący na odpowiedni wpis w <code>dsm.sys</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>SErvername SP-1-DB2
</span></code></pre></div>
<p>Ta metoda ma sens przy prostych bazach, które nie są w klastrze, ani nie są spartycjonowane.</p>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Wskazówka:</p>
<p>Zmienne środwiskowe TSM ustawia się w <code>~db2inst1/sqllib/userprofile</code> i zwykle są to:</p>
<ul>
<li><code>DSMI_DIR</code> - Określa zdefiniowaną przez użytkownika ścieżkę do katalogu, w którym znajduje się zaufany plik agenta API (dsmtca)</li>
<li><code>DSMI_CONFIG</code> - Identyfikuje ścieżkę katalogu zdefiniowaną przez użytkownika dla pliku <code>dsm.opt</code>, który zawiera opcje użytkownika TSM. W przeciwieństwie do pozostałych dwóch zmiennych, ta zmienna powinna zawierać pełną ścieżkę i nazwę pliku.</li>
<li><code>DSMI_LOG</code> - Określa zdefiniowaną przez użytkownika ścieżkę do katalogu, w którym zostanie utworzony dziennik błędów (dsierror.log).</li>
</ul>
</div>
<h3 id="wspolny-dsmsys">Wspólny <code>dsm.sys</code></h3>
<p>Można dyskutować, czy to jest dobre. Ja tak lubię. Jako <code>root</code> podlinkuj, jak na poniższym przykładzie:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">[</span>root@dibitu<span class="w"> </span>bin64<span class="o">]</span><span class="c1"># pwd</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>/opt/tivoli/tsm/client/api/bin64
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="o">[</span>root@dibitu<span class="w"> </span>bin64<span class="o">]</span><span class="c1"># ln -s ../../ba/bin/dsm.sys .</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="o">[</span>root@dibitu<span class="w"> </span>bin64<span class="o">]</span><span class="c1"># ls -la dsm.sys</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>lrwxrwxrwx.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">20</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">11</span>:40<span class="w"> </span>dsm.sys<span class="w"> </span>-&gt;<span class="w"> </span>../../ba/bin/dsm.sys
</span></code></pre></div>
<h3 id="indywidialny-dsm-db2opt">Indywidialny <code>dsm-db2.opt</code></h3>
<p>Robię metodą "elegancką", czyli każda instancja będzie miała swój własny plik <code>dsm.opt</code>. U mnie to:</p>
<div class="admonition info inline end">
<p class="admonition-title">Info</p>
<p>Jeśli nie napisałem inaczej, to konfigurację trzeba robić jako włąściciel instancji</p>
</div>
<div class="language-shell highlight"><span class="filename">Lokalizacja dsm.opt dla DB2</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>cfg<span class="o">]</span>$<span class="w"> </span><span class="nb">pwd</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>/pils/pilsisko/tsm/cfg
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>cfg<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>dsm.opt<span class="w"> </span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>SErvername<span class="w"> </span>SP-1-DB2
</span></code></pre></div>
<h3 id="zmienne-srodowiskowe-storage-protect-api">Zmienne środowiskowe Storage Protect API</h3>
<div class="admonition warning inline">
<p class="admonition-title">Uwaga:</p>
<p>Częstym błędem jest robienie wskazanych tu katalogów jako <code>root</code>. Ważne jest, żeby te katalogi były dostępne dla użytkownika instancji. W szczególności <code>DSMI_LOG</code> musi być dostępny do zapisu.</p>
</div>
<p>Ponieważ chcę to mieć zrobione elegancko, muszę wskazać instancji gdzie są jej  pliki konfiguracyjne API TSM. W tym celu, trzeba dodać następujace wpisy do <code>~db2inst1/sqllib/userprofile</code>:</p>
<div class="language-sh highlight"><span class="filename">Zmienne środowiskowe Storage Protect</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">DSMI_DIR</span><span class="o">=</span>/opt/tivoli/tsm/client/api/bin64
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nv">DSMI_CONFIG</span><span class="o">=</span>/pils/pilsisko/tsm/cfg/dsm-db2.opt
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nv">DSMI_LOG</span><span class="o">=</span>/pils/pilsisko/tsm/logs
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="nb">export</span><span class="w"> </span>DSMI_DIR<span class="w"> </span>DSMI_CONFIG<span class="w"> </span>DSMI_LOG
</span></code></pre></div>
<h4 id="weryfikacja-srodowiska">Weryfikacja środowiska</h4>
<p>Przeloguj się, i sprawdź czy zmienne się załadowały i wskazują na poprawne katalogi. Pomyłka w tym miejscu jest upierdliwa w późniejszym wyłapaniu.</p>
<div class="language-shell highlight"><span class="filename">Weryfikacja zmiennych</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$DSMI_DIR</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>/opt/tivoli/tsm/client/api/bin64
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span><span class="nv">$DSMI_CONFIG</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>db2inst1<span class="w"> </span>db2inst1<span class="w"> </span><span class="m">20</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">11</span>:31<span class="w"> </span>/pils/pilsisko/tsm/cfg/dsm-db2.opt
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>-lad<span class="w"> </span><span class="nv">$DSMI_LOG</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>drwxr-xr-x.<span class="w"> </span><span class="m">2</span><span class="w"> </span>db2inst1<span class="w"> </span>db2inst1<span class="w"> </span><span class="m">6</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">12</span>:13<span class="w"> </span>/pils/pilsisko/tsm/logs
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Ważne!</p>
<p>Po każdej zmianie w zmiennych środowiskowych, trzeba przeładować <em>database managera</em>, co oznacza chwilowy brak dostępu do baz <img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" title=":exclamation:" /> W sesji z "nowymi" zmiennymi <code>DSMI*</code> Można zrobić to tak:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DSMI
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nv">DSMI_CONFIG</span><span class="o">=</span>/pils/pilsisko/tsm/cfg/dsm-db2.opt
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nv">DSMI_DIR</span><span class="o">=</span>/opt/tivoli/tsm/client/api/bin64
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="nv">DSMI_LOG</span><span class="o">=</span>/pils/pilsisko/tsm/logs
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>db2stop
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="m">11</span>/23/2025<span class="w"> </span><span class="m">12</span>:36:20<span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">0</span><span class="w">   </span>SQL1064N<span class="w">  </span>DB2STOP<span class="w"> </span>processing<span class="w"> </span>was<span class="w"> </span>successful.
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>SQL1064N<span class="w">  </span>DB2STOP<span class="w"> </span>processing<span class="w"> </span>was<span class="w"> </span>successful.
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>db2start
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="m">11</span>/23/2025<span class="w"> </span><span class="m">12</span>:36:34<span class="w">     </span><span class="m">0</span><span class="w">   </span><span class="m">0</span><span class="w">   </span>SQL1063N<span class="w">  </span>DB2START<span class="w"> </span>processing<span class="w"> </span>was<span class="w"> </span>successful.
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>SQL1063N<span class="w">  </span>DB2START<span class="w"> </span>processing<span class="w"> </span>was<span class="w"> </span>successful.
</span></code></pre></div>
</div>
<h4 id="logarchmeth1">LOGARCHMETH1</h4>
<p>Ustawienie archiwizacji logów na cokolwiek jest kluczowe. Bez tego możliwe będa tylko backupy offline. Archwizację logów do Protecta ustawaia się komendą:</p>
<div class="language-shell highlight"><span class="filename">Ustawianie archiwizacji logów</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>db2<span class="w"> </span>update<span class="w"> </span>db<span class="w"> </span>cfg<span class="w"> </span><span class="k">for</span><span class="w"> </span>&lt;moja_baza&gt;<span class="w"> </span>using<span class="w"> </span>logarchmeth1<span class="w"> </span>tsm:&lt;klasa_dla_logów&gt;
</span></code></pre></div>
<div class="admonition example">
<p class="admonition-title">Przykład</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>db2<span class="w"> </span>update<span class="w"> </span>db<span class="w"> </span>cfg<span class="w"> </span><span class="k">for</span><span class="w"> </span>pilsisko<span class="w"> </span>using<span class="w"> </span>logarchmeth1<span class="w"> </span>tsm:logs
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>DB20000I<span class="w">  </span>The<span class="w"> </span>UPDATE<span class="w"> </span>DATABASE<span class="w"> </span>CONFIGURATION<span class="w"> </span><span class="nb">command</span><span class="w"> </span>completed<span class="w"> </span>successfully.
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>SQL1363W<span class="w">  </span>One<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>parameters<span class="w"> </span>submitted<span class="w"> </span><span class="k">for</span><span class="w"> </span>immediate<span class="w"> </span>modification<span class="w"> </span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>were<span class="w"> </span>not<span class="w"> </span>changed<span class="w"> </span>dynamically.<span class="w"> </span>For<span class="w"> </span>these<span class="w"> </span>configuration<span class="w"> </span>parameters,<span class="w"> </span>the<span class="w"> </span>database<span class="w"> </span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>must<span class="w"> </span>be<span class="w"> </span>shutdown<span class="w"> </span>and<span class="w"> </span>reactivated<span class="w"> </span>before<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>parameter<span class="w"> </span>changes<span class="w"> </span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>become<span class="w"> </span>effective.
</span></code></pre></div>
</div>
<h3 id="poaczenie-db2-i-storage-protect">Połączenie DB2 i Storage Protect</h3>
<p>Wywołaj polecenie <code>~/sqllib/adsm/dsmapipw</code>:</p>
<div class="language-sh highlight"><span class="filename">Zmiana hasła i test komunikacji z TSM dla noda DB2</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>./sqllib/adsm/dsmapipw<span class="w"> </span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>*************************************************************
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>*<span class="w"> </span>Tivoli<span class="w"> </span>Storage<span class="w"> </span>Manager<span class="w">                                    </span>*
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>*<span class="w"> </span>API<span class="w"> </span><span class="nv">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.27<span class="w">                                       </span>*
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>*************************************************************
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>Enter<span class="w"> </span>your<span class="w"> </span>current<span class="w"> </span>password:
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>Enter<span class="w"> </span>your<span class="w"> </span>new<span class="w"> </span>password:
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>Enter<span class="w"> </span>your<span class="w"> </span>new<span class="w"> </span>password<span class="w"> </span>again:
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>Your<span class="w"> </span>new<span class="w"> </span>password<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>accepted<span class="w"> </span>and<span class="w"> </span>updated.
</span></code></pre></div>
<p>Jednocześnie w ACTLOGu TSMa powinno być widać coś takiego:</p>
<div class="language-text highlight"><span class="filename">ACTLOG z nawiązania sesji przez noda DB2</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>ANR0839I Session 42075 started for node DIBITU_DB2 (Linux x86-64) (SSL 10.10.3.93:35244) on sp-1:1500.
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>ANR0403I Session 42075 ended for node DIBITU_DB2 (Linux x86-64).
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>ANR8592I Session 42076 connection is using protocol TLSV13, cipher specification TLS_AES_256_GCM_SHA384, certificate TSM Self-Signed 
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>Certificate. 
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>ANR0839I Session 42076 started for node DIBITU_DB2 (Linux x86-64) (SSL 10.10.3.93:35254) on sp-1:1500.
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>ANR0403I Session 42076 ended for node DIBITU_DB2 (Linux x86-64).
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>ANR8592I Session 42077 connection is using protocol TLSV13, cipher specification TLS_AES_256_GCM_SHA384, certificate TSM Self-Signed 
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>Certificate. 
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>ANR0839I Session 42077 started for node DIBITU_DB2 (Linux x86-64) (SSL 10.10.3.93:47422) on sp-1:1500.
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>ANR0403I Session 42077 ended for node DIBITU_DB2 (Linux x86-64).
</span></code></pre></div>
<p>We właściwiościach noda <code>DIBITU_DB2</code> na TSMie będzie też widać zmianę atrybutu <code>Platform</code> przed i po nawiązaniu komunikacji:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Przed</label><label for="__tabbed_2_2">Po</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>Protect: SP1&gt;q node dom=db2
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>Node Name                     Platform     Policy Domain      Days Sinc-     Days Sinc-     Locked?
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>                                           Name                  e Last      e Passwor-     
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>                                                                  Access          d Set     
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>-------------------------     --------     --------------     ----------     ----------     -------
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>DIBITU_DB2                    (?)          DB2                         1              1       No 
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Protect: SP1&gt;q node dom=db2
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Node Name                     Platform     Policy Domain      Days Sinc-     Days Sinc-     Locked?
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>                                           Name                  e Last      e Passwor-     
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>                                                                  Access          d Set     
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>-------------------------     --------     --------------     ----------     ----------     -------
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>DIBITU_DB2                    Linux        DB2                        &lt;1             &lt;1       No   
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>                               x86-64
</span></code></pre></div>
</div>
</div>
</div>
<h2 id="backup-do-storage-protect">Backup do Storage Protect</h2>
<p>Jeżeli nie ma potrzeby używania <em>proxy nodów</em>, czyli nie ma klastrów, ani środowiska PureScale, to właściwie wszystko jest gotowe do backupu i... odtwarzania.
DB2 o dorosła baza, więc ma pierdyliony możliwości backupu i odtwarzania. Nietkóre będa wymagały dodatkowych ustawień i/lub licencji. Na początek robię prosy backup <code>offline</code>.</p>
<h3 id="backup-offline-bazy-pilsisko">Backup offline bazy <code>pilsisko</code></h3>
<p class="annotate">Na początek, trzeba wyciszyć bazę. W shellu użytkownika instancji (1) wykonaj poniższą komendę:</p>
<ol>
<li>Albo innego uprawnionego do wykonywania backupów.</li>
</ol>
<div class="language-shell highlight"><span class="filename">Wyciszanie bazy do backupu</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">db2</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>pilsisko
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">   </span>Database<span class="w"> </span>Connection<span class="w"> </span>Information
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w"> </span>Database<span class="w"> </span><span class="nv">server</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>DB2/LINUXX8664<span class="w"> </span><span class="m">12</span>.1.3.0
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w"> </span>SQL<span class="w"> </span>authorization<span class="w"> </span><span class="nv">ID</span><span class="w">   </span><span class="o">=</span><span class="w"> </span>DB2INST1
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w"> </span>Local<span class="w"> </span>database<span class="w"> </span><span class="nb">alias</span><span class="w">   </span><span class="o">=</span><span class="w"> </span>PILSISKO
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="nv">db2</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>quiesce<span class="w"> </span>database<span class="w"> </span>immediate<span class="w"> </span>force<span class="w"> </span>connections
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>DB20000I<span class="w">  </span>The<span class="w"> </span>QUIESCE<span class="w"> </span>DATABASE<span class="w"> </span><span class="nb">command</span><span class="w"> </span>completed<span class="w"> </span>successfully.
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="nv">db2</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>unquiesce<span class="w"> </span>database
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>DB20000I<span class="w">  </span>The<span class="w"> </span>UNQUIESCE<span class="w"> </span>DATABASE<span class="w"> </span><span class="nb">command</span><span class="w"> </span>completed<span class="w"> </span>successfully.
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="nv">db2</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>terminate
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>DB20000I<span class="w">  </span>The<span class="w"> </span>TERMINATE<span class="w"> </span><span class="nb">command</span><span class="w"> </span>completed<span class="w"> </span>successfully.
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>db2<span class="w"> </span>deactivate<span class="w"> </span>database<span class="w"> </span>pilsisko
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>DB20000I<span class="w">  </span>The<span class="w"> </span>DEACTIVATE<span class="w"> </span>DATABASE<span class="w"> </span><span class="nb">command</span><span class="w"> </span>completed<span class="w"> </span>successfully.
</span></code></pre></div>
<div class="admonition quote">
<p class="admonition-title">Skrypt</p>
<p>Zamiast klepać te poleceania, można to wrzucic do pliku np.: <code>db_prep.txt</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>CONNECT TO pilsisko
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>QUIESCE DATABASE IMMEDIATE FORCE CONNECTIONS;
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>UNQUIESCE DATABASE;
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>TERMINATE;
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>DEACTIVATE DATABASE database-alias
</span></code></pre></div>
<p>I zapuścić komendą <code>db2 -tf db_prep,txt</code></p>
</div>
<p>Po deaktywacji bazy można puścić backup:</p>
<p><div class="language-shell highlight"><span class="filename">Offline backup, bez logów</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">[</span>db2inst1@dibitu<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>db2<span class="w"> </span>backup<span class="w"> </span>db<span class="w"> </span>pilsisko<span class="w">  </span>use<span class="w"> </span>tsm
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>Backup<span class="w"> </span>successful.<span class="w"> </span>The<span class="w"> </span>timestamp<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>backup<span class="w"> </span>image<span class="w"> </span>is<span class="w"> </span>:<span class="w"> </span><span class="m">20251123132004</span>
</span></code></pre></div>
Na serwerze Protect pojawi się <code>filespace</code> z nazwą bazy:</p>
<div class="language-text highlight"><span class="filename">Filespace węzła DIBITU_DB2</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>Protect: SP1&gt;q files dibitu_db2
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>Node Name           Filespace           FSID     Platform     Filespac-     Is Filesp-        Capacity      Pct 
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>                    Name                                      e Type        ace Unico-                      Util
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>                                                                               de?                         
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>---------------     -----------     --------     --------     ---------     ----------     -----------     -----
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>DIBITU_DB2          /PILSISKO              1     DB2/LIN-     API:DB2/-         No              201 MB     100,0
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>                                                  UXX8664      LINUXX8-                                         
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>                                                               664  
</span></code></pre></div>
<h2 id="co-dalej">Co dalej?</h2>
<p><a href="../../db2/back_n_rest/">Dalej</a> jest backup i restore we wszystkich możliwych smakach.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>